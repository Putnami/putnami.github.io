$wnd.Documentation.runAsyncCallback15("function i_b(a){this.a=a}\nfunction k_b(a){var b;b=new Otc;b.a+=ZOc;Ltc(b,a6(a));b.a+=CGc;return new N5(b.a)}\nfunction o_b(a){var b;b=new Otc;b.a+=YOc;Ltc(b,a6(a));b.a+=CGc;return new N5(b.a)}\nfunction m_b(a,b){var c;c=new Otc;c.a+=BGc;Ltc(c,a6(a));c.a+=AGc;Ltc(c,a6(b));c.a+=CGc;return new N5(c.a)}\nfunction d_b(a,b){if(Xsc(LJc,b.a)){E8(a.a,false);E8(a.b,true)}else{E8(a.a,true);E8(a.b,false)}}\nfunction A_b(){this.d=Rq(VF(TF(M1,1),qEc,2,4,[MJc,LJc]));lab(this,g_b(new h_b(this)));kvb(this.c,MJc);E8(this.b,false)}\nfunction n_b(a){var b;b=new Otc;b.a+=BGc;Ltc(b,a6(a));b.a+=\"'><\\/span> <p class='lead'> As we did, you probably think that <strong>GWT<\\/strong> web apps are not googlizable, you were wrong.  <br> <strong>PWT<\\/strong> provides a plugin making possible to index ajax pages by search engines.  <\\/p>\";return new N5(b.a)}\nfunction g_b(a){var b,c,d,e,f,g;c=new Zsb(m_b(a.b,a.A).a);jw(c.L,HGc,'PWT - Ajax Bot Indexing Plugin');b=I6(c.L);F6(a.c);F6(a.B);b.b?Rv(b.b,b.a,b.c):K6(b.a);Ykb(c,(d=new atb(n_b(a.d).a),e=I6(d.L),F6(a.w),e.b?Rv(e.b,e.a,e.c):K6(e.a),Ykb(d,(f=new htb(1),ftb(f,(g=new Otc,g.a+='Ajax bot indexing plugin',new N5(g.a)).a),f),F6(a.w)),a.S.k=d,d),F6(a.c));Ykb(c,f_b(a),F6(a.B));return c}\nfunction h_b(a){this.R=new i_b(this);this.S=a;this.P=$w($doc);this.g=$w($doc);this.d=$w($doc);this.C=$w($doc);this.F=$w($doc);this.H=$w($doc);this.J=$w($doc);this.L=$w($doc);this.N=$w($doc);this.e=$w($doc);this.j=$w($doc);this.n=$w($doc);this.p=$w($doc);this.s=$w($doc);this.u=$w($doc);this.b=$w($doc);this.A=$w($doc);this.Q=new G6(this.P);this.i=new G6(this.g);this.w=new G6(this.d);this.D=new G6(this.C);this.G=new G6(this.F);this.I=new G6(this.H);this.K=new G6(this.J);this.M=new G6(this.L);this.O=new G6(this.N);this.f=new G6(this.e);this.k=new G6(this.j);this.o=new G6(this.n);this.r=new G6(this.p);this.t=new G6(this.s);this.v=new G6(this.u);this.c=new G6(this.b);this.B=new G6(this.A);this.a=(Dnc(),Cnc)}\nfunction l_b(a,b,c,d,e,f,g,h,i,j,k,l){var m;m=new Otc;m.a+=BGc;Ltc(m,a6(a));m.a+=\"'><\\/span> <p> All main search bots such as google use a protocole for follow all hash links <strong>#!{fragment}<\\/strong>.  <br> Fortunately that <strong>PWT<\\/strong>  <a href='#Navigation'>navigation framework<\\/a> formalizes the MVP history tokens making the places crawlable. <\\/p> <p> Search engine crawlers detects <strong>#!{fragment}<\\/strong> links and recall the server with this fragment in a <code>_escaped_fragment_<\\/code> query parameter. <\\/p> <p> <strong>The url<\\/strong> <a>http://{yourserver}/{yourpage}#!{yourplace}<\\/a> <br> <strong>Becomes<\\/strong> <a>http://{yourserver}/{yourpage}?_escaped_fragment_={yourplace}<\\/a> <\\/p> <p> So we can render the full HTML on the server side and return it to the search bots. <\\/p> <p> Thanks to HtmlUnit and a small filter we handle all requests containing the query parameter <code>_escaped_fragment_<\\/code> and generate a full html with all the indexable content.  <\\/p> <p> All <code>&lt;script&gt;<\\/code> and <code>&lt;iframe&gt;<\\/code> tags are removed from the html.  <\\/p>  <span id='\";Ltc(m,a6(b));m.a+=RJc;Ltc(m,a6(c));m.a+=AGc;Ltc(m,a6(d));m.a+=RJc;Ltc(m,a6(e));m.a+=\"'><\\/span> <p>First you need to add a dependency on the ajax bot indexing plugin :<\\/p> <div class='clearfix'><\\/div>  <span id='\";Ltc(m,a6(f));m.a+=AGc;Ltc(m,a6(g));m.a+=AGc;Ltc(m,a6(h));m.a+=\"'><\\/span> <p> Then you initialize the filter in the web.xml. <\\/p> <p> <strong>Parameters :<\\/strong> <\\/p> <ul> <li><code>cacheFolder<\\/code> : The folder where the html files are saved. If not set the cache is disable.<\\/li> <li><code>cacheResetOnStartup<\\/code> : If \\\"true\\\" the html cache is cleared on server's startup.<\\/li> <\\/ul> <span id='\";Ltc(m,a6(i));m.a+=AGc;Ltc(m,a6(j));m.a+=\"'><\\/span> <p> The last step is to add a meta <code>fragment<\\/code> on the html which host the gwt module.  This meta tag allow search engine crawler to index the first page as an ajax one. <\\/p> <span id='\";Ltc(m,a6(k));m.a+=AGc;Ltc(m,a6(l));m.a+=\"'><\\/span> <p> You can easily clean all the html genarated cache by invoking the server on any page with the parameter <code>_ajaxbotfilter_cache_reset_<\\/code>. <br> Example : <a>htp://{yourserver}/{yourpage}?_ajaxbotfilter_cache_reset_<\\/a> <\\/p>\";return new N5(m.a)}\nfunction f_b(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G;c=new Zsb(l_b(a.C,a.F,a.H,a.J,a.L,a.N,a.e,a.j,a.n,a.p,a.s,a.u).a);b=I6(c.L);F6(a.D);F6(a.G);F6(a.I);F6(a.K);F6(a.M);F6(a.O);F6(a.f);F6(a.k);F6(a.o);F6(a.r);F6(a.t);F6(a.v);b.b?Rv(b.b,b.a,b.c):K6(b.a);Ykb(c,(d=new htb(2),ftb(d,(s=new Otc,s.a+=vOc,new N5(s.a)).a),jw(d.L,NJc,OJc),d),F6(a.D));Ykb(c,new Zlb((t=new Otc,t.a+=\"<strong>Google specification<\\/strong> <p> <a href='https://developers.google.com/webmasters/ajax-crawling/docs/specification'>https://developers.google.com/webmasters/ajax-crawling/docs/specification<\\/a> <\\/p>\",new N5(t.a)).a),F6(a.G));Ykb(c,(e=new htb(2),ftb(e,(u=new Otc,u.a+='Making it work',new N5(u.a)).a),jw(e.L,NJc,OJc),e),F6(a.I));Ykb(c,(f=new htb(3),ftb(f,(v=new Otc,v.a+='Add dependency',new N5(v.a)).a),jw(f.L,NJc,OJc),f),F6(a.K));Ykb(c,(g=new XDb,kZb(g,new jVb(PJc)),nvb(g,a.S.d),S8(g,a.R,(!QB&&(QB=new tA),QB)),a.S.c=g,g),F6(a.M));Ykb(c,(h=new Zsb(o_b(a.P).a),kZb(h,new jVb(XOc)),i=I6(h.L),F6(a.Q),i.b?Rv(i.b,i.a,i.c):K6(i.a),Ykb(h,(j=new Wmc,Vmc(j,(w=new Otc,w.a+='<pre>\\ndependencies {\\n\\t\"fr.putnami.pwt:pwt-ajax-bot-indexing:$pwtVersion\"\\n}\\n<\\/pre>',new N5(w.a)).a),Umc(j,(vnc(),unc)),j),F6(a.Q)),a.S.a=h,h),F6(a.O));Ykb(c,(k=new Zsb(k_b(a.g).a),kZb(k,new jVb(XOc)),l=I6(k.L),F6(a.i),l.b?Rv(l.b,l.a,l.c):K6(l.a),Ykb(k,(m=new Wmc,Vmc(m,(A=new Otc,A.a+='<pre>\\n&lt;dependency&gt;\\n\\t&lt;groupId&gt;fr.putnami.pwt&lt;/groupId&gt;\\n\\t&lt;artifactId&gt;pwt-ajax-bot-indexing&lt;/artifactId&gt;\\n\\t&lt;version&gt;${pwt.version}&lt;/version&gt;\\n&lt;/dependency&gt;\\n<\\/pre>',new N5(A.a)).a),Umc(m,a.a),m),F6(a.i)),a.S.b=k,k),F6(a.f));Ykb(c,(n=new htb(3),ftb(n,(B=new Otc,B.a+='Web.xml',new N5(B.a)).a),jw(n.L,NJc,OJc),n),F6(a.k));Ykb(c,(o=new Wmc,Vmc(o,(C=new Otc,C.a+='<pre>\\n&lt;filter&gt;\\n\\t&lt;filter-name&gt;ajax-bot-indexing-filter&lt;/filter-name&gt;\\n\\t&lt;description&gt;Filter making passible to render ajax page as HTML.&lt;/description&gt;\\n\\t&lt;filter-class&gt;fr.putnami.pwt.ajaxbot.AjaxBotIndexingFilter&lt;/filter-class&gt;\\n\\t&lt;init-param&gt;\\n\\t\\t&lt;param-name&gt;cacheFolder&lt;/param-name&gt;\\n\\t\\t&lt;param-value&gt;/tmp/cacheRenderedAjaxPage&lt;/param-value&gt;\\n\\t\\t&lt;description&gt;Rendered html cache folder&lt;/description&gt;\\n\\t&lt;/init-param&gt;\\n\\t&lt;init-param&gt;\\n\\t\\t&lt;param-name&gt;cacheResetOnStartup&lt;/param-name&gt;\\n\\t\\t&lt;param-value&gt;true&lt;/param-value&gt;\\n\\t\\t&lt;description&gt;Clear the html cache on server startup&lt;/description&gt;\\n\\t&lt;/init-param&gt;\\n&lt;/filter&gt;\\n&lt;filter-mapping&gt;\\n\\t&lt;filter-name&gt;ajax-bot-indexing-filter&lt;/filter-name&gt;\\n\\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\\n&lt;/filter-mapping&gt;\\n<\\/pre>',new N5(C.a)).a),Umc(o,a.a),o),F6(a.o));Ykb(c,(p=new htb(3),ftb(p,(D=new Otc,D.a+='Initialize the gwt host page',new N5(D.a)).a),jw(p.L,NJc,OJc),p),F6(a.r));Ykb(c,(q=new Wmc,Vmc(q,(F=new Otc,F.a+='<pre>\\n&lt;html&gt;\\n\\t&lt;head&gt;\\n\\t\\t...\\n\\t\\t&lt;meta name=\"fragment\" content=\"!\"&gt;\\n\\t\\t...\\n\\t&lt;/head&gt;\\n&lt;/html&gt;\\n<\\/pre>',new N5(F.a)).a),Umc(q,a.a),q),F6(a.t));Ykb(c,(r=new htb(3),ftb(r,(G=new Otc,G.a+='Clean html cache',new N5(G.a)).a),jw(r.L,NJc,OJc),r),F6(a.v));a.S.j=c;return c}\nx3(657,46,JJc);var pV=mrc(dIc,'AjaxBotIndexingPage',657,ZU);x3(1003,1,{},h_b);var lV=mrc(dIc,'AjaxBotIndexingPage_AjaxBotIndexingPageTemplateBinder_UiBinderLocalized_BinderImpl/Widgets',1003,G1);x3(1004,1,MFc,i_b);_.jf=function j_b(a){d_b(this.a.S,a)};var kV=mrc(dIc,'AjaxBotIndexingPage_AjaxBotIndexingPageTemplateBinder_UiBinderLocalized_BinderImpl/Widgets/1',1004,G1);var p_b;x3(656,1,eIc);_.Je=function z_b(){var a;!(f5(),p_b)&&(p_b=new A_b);a=new D$b;ijb(a,p_b);bjb(this.a,a)};x3(911,657,KJc,A_b);_.uh=function B_b(a,b){A$b(this);b.xe(this)};var oV=mrc(dIc,'AjaxBotIndexingPage_Injector',911,pV);kEc(Vt)(15);\n//# sourceURL=Documentation-15.js\n")
